一、流量平台充值规则
假设有充值商A，B，C，他们的参考数据包括（充值速度，成功率，价格，省份，剩余流量），省份为全国、北京、广东
用户a,b,c，参考数据包括（省份，流量值，品牌），品牌为VIP和一般；

期望
1、首先看省份，如果充值商省份相同的，进入可选
2、如果用户为VIP，全国进入可选
3、对于对于入选省份，剩余流量够的入选
4、VIP 以下5占用的比重为80%价格20%；一般用户价格80%，5占用20%
5、优选充值成功率高且充值速度快的，成功率取值70%，速度取值30%
6、满足以上的优先从第一个开始充值，失败取第二个，知道成功或都试过

二、PushC规则
发送信息涉及到渠道、次数控制，渠道包括微信、短信；欢迎语包括VIP,全球通；发送次数vip每月2次，全球通每月3次
用户信息包括（首选媒体，品牌，可发送日期，已发送次数）

期望
1、只有在可发送日期内才可通知
发送日期按星期配置
2、只有发送次数没有超过发送次数的才可发送
3、发送优选首选媒体

三、TT规则
TT工单设计数据，处理期限，优先级，处理部门，工单类型；
工单类型包括网络报障、资费报障，处理期限分1天，7天，优先级分高，正常，处理部门分快速处理，正常处理

用户投诉信息（品牌，紧急度，类型），品牌包括VIP，普通；紧急度高，正常；类型网络故障，费用问题

期望
1、工单类型按用户要求填写
2、普通用户优先级高的的派到快速处理，否则派到正常处理
3、VIP的优先级一律设置为高，正常用户之后网路故障和紧急度高是才设为高优先级

四、简单业务规则

期望
不写函数，只是发送变量，然后发送逻辑指令，获取变量来提供规则

五、增加action
实现java接口和基类
增加修饰符可以添加到类方法上，经过扫描后自动生成action驱动
1、定义好规则和数据
2、类构造函数增加如下修饰符，初始化规则数据
@ConditionData(ip,port,tenent.rule.data)
3、在类方法上增加如下注释，当con发生时，此方法将被执行
@OnContidition(tenent.rule.function,con)
4、上2和3可以出现多个，表明多个规则
@OnContidition(tenent.rule.fun,con) || OnContidition(tenent.rule.fun1,con)
表示只要某个发生
@OnContidition(tenent.rule.fun,con) && OnContidition(tenent.rule.fun1,con)
表示同时发生
5、调用函数表示
@Start(tenent.rule.function,RuleData)
系统自动注入调用代码，当这个函数被调用时，ruleData被传递给规则引擎，根据结果依据条件4出发action

六、Ecllipse插件化

七、参见
EasyRules
JBoss_Drools
JBoss_rules
https://wenku.baidu.com/view/5e1ac7b25fbfc77da369b16c.html Boss_Drools&JBoss_rules介绍.ppt
